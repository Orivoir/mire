{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{asset("/assets/css/register.css")}}">
{% endblock %}

{% block title %}register{% endblock %}

{% block body %}
    <h1>Register</h1>

    {{ form_start( registrationForm , {
        "attr": {
            "class": "form-container"
        }
    } ) }}

        {% set usernameError = form_errors(registrationForm.username) %}
        {% if usernameError != NULL %}
            <div class="form-error">
                {{usernameError|raw}}
            </div>
        {% endif %}

        <div>
            <i class="hide fas fa-spinner load-icon load-username-icon"></i>
            <i class="hide fas fa-check success-icon"></i>
            <i class="hide fas fa-times error-icon"></i>
        </div>
        <div class="form-group">
            {{form_label( registrationForm.username , "username" )}}
            {{ form_widget(registrationForm.username ) }}
        </div>

        {% set errorPlainPassword = form_errors(registrationForm.plainPassword)  %}
        {% if  errorPlainPassword != NULL %}
            <div class="form-error">
                {{errorPlainPassword|raw}}
            </div>
        {% endif %}

        <div class="form-group">
            {{form_label( registrationForm.plainPassword , "password" )}}
            {{ form_widget(registrationForm.plainPassword ) }}
        </div>

        <div class="form-group">
            {{form_label( registrationForm.password , "confirm password" )}}
            {{ form_widget(registrationForm.password ) }}
        </div>

        <input type="hidden" id="g-score" name="g-score" value="">

        <button
            type="submit"
            class="btn blue"
        >
            Register
        </button>

    {{ form_end(registrationForm) }}
{% endblock %}

{% block javascripts %}
    <script src="https://www.google.com/recaptcha/api.js?render=6LdSsdwUAAAAAHNFJPW71TznPDRrKd0IxeqoFyuR"></script>
    <script src="{{asset("/assets/js/g-recaptcha.js")}}"></script>
    <script src="{{asset("/assets/js/register.js")}}"></script>
{% endblock %}